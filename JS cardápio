const menuItems = [
    { name: "ðŸœ LÃ¡men Ichiraku - Ramen do Naruto", ingredients: ["MacarrÃ£o", "Caldo de Porco", "Ovo", "Cebolinha", "Chashu"], price: Math.floor(Math.random() * 46) + 25 },
    { name: "ðŸ™ Bola de Arroz Onigiri - MissÃ£o RÃ¡pida", ingredients: ["Arroz JaponÃªs", "Alga Nori", "Recheio Variado"], price: Math.floor(Math.random() * 46) + 25 },
    { name: "ðŸ¢ Dango - Doce Favorito dos Ninjas", ingredients: ["Massa de Arroz", "Molho de Soja Doce"], price: Math.floor(Math.random() * 25) + 25 },
    { name: "ðŸ› Curry JaponÃªs - Chakra Picante", ingredients: ["Carne", "Cenoura", "Batata", "Arroz", "Molho Curry"], price: Math.floor(Math.random() * 46) + 25 },
    { name: "ðŸ™ Takoyaki - Jutsu do Polvo Flamejante", ingredients: ["Massa", "Polvo", "Molho Takoyaki", "Cebolinha", "Katsuobushi"], price: Math.floor(Math.random() * 46) + 25 },
    { name: "ðŸ¦ TempurÃ¡ - Defesa Perfeita do Byakugan", ingredients: ["CamarÃ£o", "Legumes", "Massa Crocante"], price: Math.floor(Math.random() * 19) + 25 },
    { name: "ðŸ¢ Churrasquinho Yakitori - Espetos de Chakra", ingredients: ["Frango", "Molho TarÃª"], price: Math.floor(Math.random() * 19) + 25 },
    { name: "ðŸŸ Sashimi - TÃ©cnica do Estilo Ãgua", ingredients: ["Peixe Cru", "Shoyu", "Gengibre"], price: Math.floor(Math.random() * 25) + 25 },
    { name: "ðŸ— Karaage (Frango Frito JaponÃªs) - Golpe RÃ¡pido de Taijutsu", ingredients: ["Frango", "Molho de Soja", "Gengibre", "Farinha de Batata"], price: Math.floor(Math.random() * 46) + 25 },
    { name: "ðŸ¥ž Okonomiyaki - Jutsu Secreto de Osaka", ingredients: ["Massa", "Repolho", "Carne de Porco", "Molho Okonomiyaki"], price: Math.floor(Math.random() * 46) + 25 },
    { name: "ðŸŒ± Edamame (Soja Cozida) - Chakra Verde", ingredients: ["Soja", "Sal Grosso"], price: Math.floor(Math.random() * 46) + 25 },
    { name: "ðŸŸ Batata Frita - Jutsu das LÃ¢minas Douradas", ingredients: ["Batata", "Sal"], price: Math.floor(Math.random() * 46) + 25 },
    { name: "ðŸ’§ Ãgua Mineral - Fonte de Energia Natural", ingredients: ["Ãgua Purificada"], price: 5 },
    { name: "ðŸ’¦ Ãgua com GÃ¡s - TÃ©cnica Borbulhante", ingredients: ["Ãgua Gasificada"], price: 6 },
    { name: "ðŸ¥¤ Coca-Cola - Chakra Explosivo", ingredients: ["Refrigerante de Cola"], price: 7 },
    { name: "ðŸŠ Fanta Laranja - Modo Kurama", ingredients: ["Refrigerante de Laranja"], price: 7 },
    { name: "ðŸ‡ Fanta Uva - Genjutsu Roxo", ingredients: ["Refrigerante de Uva"], price: 7 },
    { name: "ðŸŒ¿ Kuat - ForÃ§a do PaÃ­s do ChÃ¡", ingredients: ["Refrigerante de GuaranÃ¡"], price: 7 },
    { name: "ðŸ¹ Suco de Laranja - Jutsu da Vitalidade", ingredients: ["Laranja", "AÃ§Ãºcar", "Ãgua"], price: 8 },
    { name: "ðŸ· Suco de Uva - Sangue de Shinobi", ingredients: ["Uva", "AÃ§Ãºcar", "Ãgua"], price: 8 },
    { name: "ðŸ“ Suco de Morango - Chakra Vermelho", ingredients: ["Morango", "AÃ§Ãºcar", "Ãgua"], price: 8,50 }
];

let menuCounts = {};

menuItems.forEach(item => {
    menuCounts[item.name] = 0;
});

function createMenuCounters() {
    const container = document.getElementById("cardÃ¡pio-container");

    menuItems.forEach(item => {
        const itemDiv = document.createElement("div");
        itemDiv.classList.add("ingredient");

        itemDiv.innerHTML = `
            <span><strong>${item.name}</strong> (R$ ${item.price.toFixed(2)}):</span>
            <p class="ingredients">${item.ingredients.join(", ")}</p>
            <button class="decrement" onclick="updateCount('${item.name}', -1)">-</button>
           <span id="${item.name.replace(/[^a-zA-Z0-9]/g, "-")}-count">0</span>

            <button class="increment" onclick="updateCount('${item.name}', 1)">+</button>
        `;

        container.appendChild(itemDiv);
    });
}

function updateCount(item, change) {
    try {
        let newValue = menuCounts[item] + change;

        if (newValue < 0) {
            throw new Error(`Erro: ${item} nÃ£o pode ser menor que 0.`);
        }
        if (newValue > 10) {
            throw new Error(`Erro: ${item} nÃ£o pode ser maior que 10.`);
        }

        menuCounts[item] = newValue;
       document.getElementById(`${item.replace(/[^a-zA-Z0-9]/g, "-")}-count`).textContent = newValue;

        updateTotal();

    } catch (error) {
        console.error(error.message);
        alert(error.message);
    }
}

function updateTotal() {
    let totalItems = Object.values(menuCounts).reduce((sum, value) => sum + value, 0);
    let totalPrice = Object.keys(menuCounts).reduce((sum, item) => sum + (menuCounts[item] * menuItems.find(i => i.name === item).price), 0);

    document.getElementById("total").textContent = `Total de Comidas e Petiscos: ${totalItems}`;
    document.getElementById("valor-total").textContent = `Total em dinheiro: R$ ${totalPrice.toFixed(2)}`;
}

createMenuCounters();
