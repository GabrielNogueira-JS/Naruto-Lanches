const drinks = [
    { name: "Pi√±a Colada", emoji: "üçç", ingredients: ["Rum", "Leite de Coco", "Suco de Abacaxi"] },
    { name: "Margarita", emoji: "üç∏", ingredients: ["Tequila", "Licor de Laranja", "Suco de Lim√£o"] },
    { name: "Mojito", emoji: "üåø", ingredients: ["Rum Branco", "Hortel√£", "A√ß√∫car", "Suco de Lim√£o", "√Ågua com G√°s"] },
    { name: "Caipirinha", emoji: "üçã", ingredients: ["Cacha√ßa", "A√ß√∫car", "Lim√£o"] },
    { name: "Daiquiri", emoji: "üçπ", ingredients: ["Rum Branco", "Suco de Lim√£o", "A√ß√∫car"] },
    { name: "Tequila Sunrise", emoji: "üåÖ", ingredients: ["Tequila", "Suco de Laranja", "Groselha"] },
    { name: "Negroni", emoji: "üçä", ingredients: ["Gin", "Vermute Rosso", "Campari"] },
    { name: "Bloody Mary", emoji: "üçÖ", ingredients: ["Vodka", "Suco de Tomate", "Molho Ingl√™s", "Pimenta", "Suco de Lim√£o"] },
    { name: "Mai Tai", emoji: "üå¥", ingredients: ["Rum", "Licor de Laranja", "Suco de Lim√£o", "Xarope de Am√™ndoa"] }
];

const precoPorBebida = 20.00;
let drinkCounts = {};

drinks.forEach(drink => {
    drinkCounts[drink.name] = 0;
});

function createDrinkCounters() {
    const container = document.getElementById("drinks-container");
    if (!container) {
        console.error("Erro: Elemento #drinks-container n√£o encontrado.");
        return;
    }
    container.innerHTML = ""; // Limpa antes de adicionar
    
    drinks.forEach(drink => {
        const drinkDiv = document.createElement("div");
        drinkDiv.classList.add("ingredient");

        drinkDiv.innerHTML = `
            <span><strong>${drink.emoji} ${drink.name}</strong> (R$ ${precoPorBebida.toFixed(2)}):</span>
            <p class="ingredients">${drink.ingredients.join(", ")}</p>
            <button class="decrement" data-drink="${drink.name}">-</button>
            <span id="${drink.name}-count">0</span>
            <button class="increment" data-drink="${drink.name}">+</button>
        `;

        container.appendChild(drinkDiv);
    });
    
    attachEventListeners();
}

function attachEventListeners() {
    document.querySelectorAll(".increment").forEach(button => {
        button.addEventListener("click", () => updateCount(button.dataset.drink, 1));
    });
    
    document.querySelectorAll(".decrement").forEach(button => {
        button.addEventListener("click", () => updateCount(button.dataset.drink, -1));
    });
}

function updateCount(drink, change) {
    if (!(drink in drinkCounts)) return;
    
    let newValue = drinkCounts[drink] + change;
    if (newValue < 0) newValue = 0;
    if (newValue > 10) newValue = 10;
    
    drinkCounts[drink] = newValue;
    document.getElementById(`${drink}-count`).textContent = newValue;
    updateTotal();
}

function updateTotal() {
    let totalBebidas = Object.values(drinkCounts).reduce((sum, value) => sum + value, 0); 
    let totalDinheiro = totalBebidas * precoPorBebida;

    document.getElementById("total").textContent = `Total de bebidas: ${totalBebidas}`;
    document.getElementById("valor-total").textContent = `Total em dinheiro: R$ ${totalDinheiro.toFixed(2)}`;
}

document.addEventListener("DOMContentLoaded", createDrinkCounters);


// Chama a fun√ß√£o ao carregar a p√°gina
createDrinkCounters();
