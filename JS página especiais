const lanches = [
  { name: "ü•ìX-Bacon", ingredients: ["P√£o de hamb√∫rguer", "Bacon", "Queijo", "Hamb√∫rguer", "Maionese"] },
  { name: "ü•íX-Salada", ingredients: ["P√£o de hamb√∫rguer", "Queijo", "Hamb√∫rguer", "Alface", "Tomate", "Maionese"] },
  { name: "üç±X-Tudo", ingredients: ["P√£o de hamb√∫rguer", "Hamb√∫rguer", "Queijo", "Presunto", "Bacon", "Ovo", "Alface", "Tomate", "Maionese"] },
  { name: "üêîX-Frango", ingredients: ["P√£o de hamb√∫rguer", "Frango desfiado", "Queijo", "Alface", "Tomate", "Maionese"] },
  { name: "ü´ëX-Calabresa", ingredients: ["P√£o de hamb√∫rguer", "Calabresa", "Queijo", "Tomate", "Maionese"] },
  { name: "üç≥X-Egg", ingredients: ["P√£o de hamb√∫rguer", "Ovo", "Queijo", "Hamb√∫rguer", "Maionese"] },
  { name: "üçñX-Picanha", ingredients: ["P√£o de hamb√∫rguer", "Picanha", "Queijo", "Alface", "Tomate", "Maionese"] },
  { name: "üå±X-Vegano", ingredients: ["P√£o integral", "Hamb√∫rguer de soja", "Queijo vegano", "Alface", "Tomate", "Maionese vegana"] }
];

// Gera um pre√ßo aleat√≥rio para cada lanche entre R$15 e R$35
let precoPorLanche = {};
lanches.forEach(lanche => {
  precoPorLanche[lanche.name] = Math.floor(Math.random() * (35 - 15 + 1)) + 15;
});

let lancheCounts = {};
lanches.forEach(lanche => {
  lancheCounts[lanche.name] = 0;
});

function createLancheCounters() {
  const container = document.getElementById("lanches-container");
  container.innerHTML = ""; // Limpa o container
  lanches.forEach(lanche => {
    const lancheDiv = document.createElement("div");
    lancheDiv.classList.add("ingredient");

    lancheDiv.innerHTML = `
      <span><strong>${lanche.name}</strong> (R$ ${precoPorLanche[lanche.name].toFixed(2)}):</span>
      <p class="ingredients">${lanche.ingredients.join(", ")}</p>
      <button class="decrement" onclick="updateCount('${lanche.name}', -1)">-</button>
      <span id="${lanche.name}-count">0</span>
      <button class="increment" onclick="updateCount('${lanche.name}', 1)">+</button>
    `;

    container.appendChild(lancheDiv);
  });
}

function updateCount(lanche, change) {
  let newValue = lancheCounts[lanche] + change;
  if (newValue < 0) newValue = 0;
  if (newValue > 10) newValue = 10;

  lancheCounts[lanche] = newValue;
  document.getElementById(`${lanche}-count`).textContent = newValue;
  updateTotal();
}

function updateTotal() {
  let totalLanches = Object.values(lancheCounts).reduce((sum, value) => sum + value, 0);
  let totalDinheiro = Object.keys(lancheCounts).reduce((sum, lanche) => {
    return sum + (lancheCounts[lanche] * precoPorLanche[lanche]);
  }, 0);

  document.getElementById("total").textContent = `Total de lanches: ${totalLanches}`;
  document.getElementById("valor-total").textContent = `Total em dinheiro: R$ ${totalDinheiro.toFixed(2)}`;
}

// Inicializa os contadores ao carregar a p√°gina
createLancheCounters();
